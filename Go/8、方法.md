# 方法

某些情况下，需要声明方法。比如一个结构体有字段，但有可能需要行为，这个行为就需要方法来完成。

**方法是作用在指定的数据类型上的，因此自定义类型，都可以有方法**（而不仅仅是struct）



## 声明

```go
type Struct_Use struct {
	Name string
	Age int
}

//方法	和Struct_Use绑定，只能被其调用，而不能被其他调用
func (s Struct_Use) test(){
	fmt.Println("test Name : " , s.Name )
}

func main() {
	s1 := Struct_Use{
		Name: "李斯",
	}
  //方法传参  由此处的s1传入到方法作为s使用
	s1.test()
}
```

## <a style="color:red">注意</a>

- 方法调用参数传递和函数基本一样。不一样的地方是方法调用时，会将调用方法的变量，当作实参也传递给方法。

- 通常为了效率，方法绑定类型使用*传参，使其变为地址拷贝。效率会高上不少。

  ```go
  type Circle struct {
  	radius float64
  }
  
  func (c *Circle) area() float64 {
    return 3.14 * (*c).radius * (*c).radius
    //可将(*c)简写为c
  }
  
  func main() {
  	c1 := Circle{radius: 4.0}
    res := (&c1).area() //(&c1)可简化为c1
  	fmt.Println(res)
  }
  ```

- 不仅仅是struct， int、float类型也有方法

  ```go
  type Integer int
  
  func (i *Integer) run(){
  	*i = *i + 1
  }
  
  func main() {
  	var a Integer
  	a = 10
  	a.run()
  	fmt.Println(a)
  }
  ```

- 如果实现了*类型的String()方法，则会调用String()方法



## 与函数的区别

- 使用

  函数可直接使用，方法必须由绑定参数来调用

- 传参数

  函数传参数，接收者为值类型，就不能传入指针类型，反之亦然

  方法传参数，接收者为值类型，可传入指针类型，反之亦然

 